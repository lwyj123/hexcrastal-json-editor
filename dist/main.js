!function(e,t){"object"==typeof exports&&"object"==typeof module?module.exports=t(require("react"),require("underscore"),require("prop-types"),require("react-redux"),require("antd"),require("react-dom"),require("moox")):"function"==typeof define&&define.amd?define(["react","underscore","prop-types","react-redux","antd","react-dom","moox"],t):"object"==typeof exports?exports.schema=t(require("react"),require("underscore"),require("prop-types"),require("react-redux"),require("antd"),require("react-dom"),require("moox")):e.schema=t(e.React,e._,e[void 0],e[void 0],e[void 0],e.ReactDom,e[void 0])}(window,function(e,t,a,n,l,r,o){return function(e){var t={};function a(n){if(t[n])return t[n].exports;var l=t[n]={i:n,l:!1,exports:{}};return e[n].call(l.exports,l,l.exports,a),l.l=!0,l.exports}return a.m=e,a.c=t,a.d=function(e,t,n){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},a.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(a.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var l in e)a.d(n,l,function(t){return e[t]}.bind(null,l));return n},a.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/dist/",a(a.s=8)}([function(e,t,a){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};t.JSONPATH_JOIN_CHAR=".",t.lang="en_US",t.format=[{name:"date-time"},{name:"date"},{name:"email"},{name:"hostname"},{name:"ipv4"},{name:"ipv6"},{name:"uri"}];a(2);function l(e,t){if("object"===e.type){var a=function(e){var t=[];return Object.keys(e).map(function(e){t.push(e)}),t}(e.properties);t?e.required=[].concat(a):delete e.required,function(e,t){for(var a in e)"array"!==e[a].type&&"object"!==e[a].type||l(e[a],t)}(e.properties,t)}else{if("array"!==e.type)return e;l(e.items,t)}}t.SCHEMA_TYPE=["string","number","array","object","boolean","integer"],t.defaultSchema={string:{type:"string"},number:{type:"number"},array:{type:"array",items:{type:"string"}},object:{type:"object",properties:{}},boolean:{type:"boolean"},integer:{type:"integer"}},t.debounce=function(e,t){var a=void 0;return function(){clearTimeout(a),a=setTimeout(e,t)}},t.getData=function(e,t){for(var a=e,n=0;n<t.length;n++)a=a[t[n]];return a},t.setData=function(e,t,a){for(var n=e,l=0;l<t.length-1;l++)n=n[t[l]];n[t[t.length-1]]=a},t.deleteData=function(e,t){for(var a=e,n=0;n<t.length-1;n++)a=a[t[n]];delete a[t[t.length-1]]},t.getParentKeys=function(e){if(1===e.length)return[];var t=[].concat(e);return t.splice(e.length-1,1),t},t.clearSomeFields=function(e,t){var a=Object.assign({},t);return e.forEach(function(e){delete a[e]}),a},t.handleSchemaRequired=l,t.cloneObject=function e(t){if("object"===(void 0===t?"undefined":n(t))){if(Array.isArray(t)){var a=[];return t.forEach(function(t,n){a[n]=e(t)}),a}var l={};for(var r in t)l[r]=e(t[r]);return l}return t}},function(t,a){t.exports=e},function(e,a){e.exports=t},function(e,t){e.exports=a},function(e,t){e.exports=n},function(e,t){e.exports=l},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=l(a(0));l(a(1));function l(e){return e&&e.__esModule?e:{default:e}}var r={en_US:{base_setting:"Base Setting",all_setting:"Sourec Code",default:"Default",description:"Description",adv_setting:"Advanced Settings",add_child_node:"Add child node",add_sibling_node:"Add sibling nodes",child_node:"Child node",sibling_node:"Sibling node",ok:"OK",cancel:"Cancel",minLength:"Min.L",maxLength:"Max.L",pattern:"MUST be a string and SHOULD be a valid regular expression.",exclusiveMinimum:"Value strictly less than",exclusiveMaximum:"Value strictly more than",minimum:"Min",maximum:"Max",unique_items:"Unique Items",min_items:"MinItems",max_items:"MaxItems",checked_all:"Checked All",valid_json:"Not valid json",enum:"Enum",enum_msg:"One value per line",enum_desc:"desc",enum_desc_msg:"enum description",required:"required",mock:"mock",mockLink:"Help"},zh_CN:{base_setting:"基础设置",all_setting:"编辑源码",default:"默认值",description:"备注",adv_setting:"高级设置",add_child_node:"添加子节点",add_sibling_node:"添加兄弟节点",child_node:"子节点",sibling_node:"兄弟节点",ok:"确定",cancel:"取消",minLength:"最小长度",maxLength:"最大长度",pattern:"用正则表达式约束字符串",exclusiveMinimum:"开启后，数据必须大于最小值",exclusiveMaximum:"开启后，数据必须小于最大值",minimum:"最小值",maximum:"最大值",unique_items:"开启后，每个元素都不相同",min_items:"最小元素个数",max_items:"最大元素个数",checked_all:"全选",valid_json:"不是合法的json字符串",enum:"枚举",enum_msg:"每行只能写一个值",enum_desc:"备注",enum_desc_msg:"备注描述信息",required:"必须",mock:"mock",mockLink:"查看文档"}};t.default=function(e){return r[n.default.lang][e]}},function(e,t,a){"use strict";var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function l(e){!e.type&&e.properties&&"object"===n(e.properties)&&(e.type="object")}function r(e){if(!e||e.type||e.properties||(e.type="string"),l(e),"object"===e.type)e.properties||(e.properties={}),function(e){for(var t in e)l(e[t]),"array"!==e[t].type&&"object"!==e[t].type||r(e[t])}(e.properties);else{if("array"!==e.type)return e;e.items||(e.items={type:"string"}),r(e.items)}}e.exports=r},function(e,t,a){"use strict";var n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var a=arguments[t];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(e[n]=a[n])}return e},l=d(a(1)),r=(a(9),a(4)),o=d(a(10)),i=d(a(0)),u=d(a(15)),c=d(a(16)),s=d(a(3));function d(e){return e&&e.__esModule?e:{default:e}}e.exports=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.lang&&(i.default.lang=e.lang);var t=(0,u.default)({schema:c.default});e.format?t.__jsonSchemaFormat=e.format:t.__jsonSchemaFormat=i.default.format;var a=t.getStore(),d=function(e){return l.default.createElement(r.Provider,{store:a,className:"wrapper"},l.default.createElement(o.default,n({Model:t},e)))};return d.propTypes={data:s.default.string,onChange:s.default.func,disabled:s.default.bool},d}},function(e,t){e.exports=r},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=m(a(1)),r=a(5);a(17);m(a(2));var o=a(4),i=m(a(11)),u=m(a(3)),c=a(0),s=m(a(7)),d=m(a(12)),f=m(a(6));function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t,a){return t in e?Object.defineProperty(e,t,{value:a,enumerable:!0,configurable:!0,writable:!0}):e[t]=a,e}r.Form.Item;var h=r.Select.Option,y=r.Input.TextArea,g=(r.Tabs.TabPane,a(13)),v=a(0),b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var a=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.handleOk=function(){if("schema"!==a.importJsonType){if(!a.jsonData)return r.message.error("json 数据格式有误");var e=g(a.jsonData);a.Model.changeEditorSchemaAction({value:e})}else{if(!a.jsonSchemaData)return r.message.error("json 数据格式有误");a.Model.changeEditorSchemaAction({value:a.jsonSchemaData})}a.setState({visible:!1})},a.handleCancel=function(){a.setState({visible:!1})},a.alterMsg=function(){},a.handleParams=function(e){if(e.text){if(!0!==e.format)return a.alterMsg();(0,s.default)(e.jsonData),a.Model.changeEditorSchemaAction({value:e.jsonData})}},a.changeType=function(e,t){a.Model.changeTypeAction({key:[e],value:t})},a.handleImportJson=function(e){if(!e.text||!0!==e.format)return a.jsonData=null;a.jsonData=e.jsonData},a.handleImportJsonSchema=function(e){if(!e.text||!0!==e.format)return a.jsonSchemaData=null;a.jsonSchemaData=e.jsonData},a.addChildField=function(e){a.Model.addChildFieldAction({key:[e]}),a.setState({show:!0})},a.clickIcon=function(){a.setState({show:!a.state.show})},a.changeValue=function(e,t){a.Model.changeValueAction({key:e,value:t})},a.handleEditOk=function(e){a.setState({editVisible:!1});var t=a.state[e];a.Model.changeValueAction({key:a.state.descriptionKey,value:t})},a.handleEditCancel=function(){a.setState({editVisible:!1})},a.showEdit=function(e,t,n,l){var r;if("object"!==l&&"array"!==l){var o=[].concat(e,t);n="mock"===t?n?n.mock:"":n,a.setState((p(r={editVisible:!0},t,n),p(r,"descriptionKey",o),p(r,"editorModalName",t),r))}},a.changeDesc=function(e,t){a.setState(p({},t,e))},a.handleAdvOk=function(){0===a.state.itemKey.length?a.Model.changeEditorSchemaAction({value:a.state.curItemCustomValue}):a.Model.changeValueAction({key:a.state.itemKey,value:a.state.curItemCustomValue}),a.setState({advVisible:!1})},a.handleAdvCancel=function(){a.setState({advVisible:!1})},a.showAdv=function(e,t){a.setState({advVisible:!0,itemKey:e,curItemCustomValue:t})},a.changeCustomValue=function(e){a.setState({curItemCustomValue:e})},a.changeCheckBox=function(e){a.setState({checked:e}),a.Model.requireAllAction({required:e,value:a.props.schema})},a.alterMsg=(0,c.debounce)(a.alterMsg,2e3),a.state={visible:!1,show:!0,editVisible:!1,description:"",descriptionKey:null,advVisible:!1,itemKey:[],curItemCustomValue:null,checked:!1,editorModalName:""},a.Model=a.props.Model.schema,a.jsonSchemaData=null,a.jsonData=null,a}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,l.default.Component),n(t,[{key:"componentWillReceiveProps",value:function(e){if("function"==typeof this.props.onChange&&this.props.schema!==e.schema){var t=JSON.stringify(this.props.schema||""),a=JSON.stringify(e.schema||"");if(t!==a)return this.props.onChange(a)}this.props.data&&this.props.data!==e.data&&this.Model.changeEditorSchemaAction({value:JSON.parse(e.data)})}},{key:"componentWillMount",value:function(){var e=this.props.data;e||(e='{\n        "type": "object",\n        "title": "empty object",\n        "properties":{\n          "id": {\n            "type": "string"\n          },\n          "nested": {\n            "type": "object",\n            "properties": {\n              "name": {\n                "type": "string"\n              }\n            }\n          }\n        }\n      }'),this.Model.changeEditorSchemaAction({value:JSON.parse(e)})}},{key:"getChildContext",value:function(){var e=this;return{getOpenValue:function(t){return v.getData(e.props.open,t)},changeCustomValue:this.changeCustomValue,Model:this.props.Model}}},{key:"render",value:function(){var e=this,t=this.state,a=(t.visible,t.editVisible),n=(t.description,t.advVisible),o=(t.type,t.checked),u=t.editorModalName,s=this.props.schema,m="object"!==this.props.schema.type&&"array"!==this.props.schema.type,p=this.props.disabled;return console.log("propsDisabled: ",p),l.default.createElement("div",{className:"json-schema-react-editor"},l.default.createElement(r.Modal,{title:l.default.createElement("div",null,(0,f.default)(u)," "),maskClosable:!1,visible:a,onOk:function(){return e.handleEditOk(u)},onCancel:this.handleEditCancel,okText:(0,f.default)("ok"),cancelText:(0,f.default)("cancel")},l.default.createElement(y,{value:this.state[u],placeholder:(0,f.default)(u),onChange:function(t){return e.changeDesc(t.target.value,u)},autosize:{minRows:6,maxRows:10}})),n&&l.default.createElement(r.Modal,{title:(0,f.default)("adv_setting"),maskClosable:!1,visible:n,onOk:this.handleAdvOk,onCancel:this.handleAdvCancel,okText:(0,f.default)("ok"),width:780,cancelText:(0,f.default)("cancel"),className:"json-schema-react-editor-adv-modal"},l.default.createElement(d.default,{data:JSON.stringify(this.state.curItemCustomValue,null,2)})),l.default.createElement(r.Row,null,l.default.createElement(r.Col,{span:24,className:"wrapper object-style"},l.default.createElement(r.Row,{type:"flex",align:"middle"},l.default.createElement(r.Col,{span:12,className:"col-item name-item col-item-name"},l.default.createElement(r.Row,{type:"flex",justify:"space-around",align:"middle"},l.default.createElement(r.Col,{span:2,className:"down-style-col"},"object"===s.type?l.default.createElement("span",{className:"down-style",onClick:this.clickIcon},this.state.show?l.default.createElement(r.Icon,{className:"icon-object",type:"caret-down"}):l.default.createElement(r.Icon,{className:"icon-object",type:"caret-right"})):null),l.default.createElement(r.Col,{span:22},l.default.createElement(r.Input,{addonAfter:l.default.createElement(r.Tooltip,{placement:"top",title:"checked_all"},l.default.createElement(r.Checkbox,{checked:o,disabled:m||this.props.disabled,onChange:function(t){return e.changeCheckBox(t.target.checked)}})),disabled:!0,value:"root"})))),l.default.createElement(r.Col,{span:4,className:"col-item col-item-type"},l.default.createElement(r.Select,{className:"type-select-style",onChange:function(t){return e.changeType("type",t)},disabled:this.props.disabled,value:s.type||"object"},c.SCHEMA_TYPE.map(function(e,t){return l.default.createElement(h,{value:e,key:t},e)}))),l.default.createElement(r.Col,{span:5,className:"col-item col-item-desc"},l.default.createElement(r.Input,{disabled:this.props.disabled,addonAfter:this.props.disabled?null:l.default.createElement(r.Icon,{type:"edit",onClick:function(){return e.showEdit([],"description",e.props.schema.description)}}),placeholder:"description",value:s.description,onChange:function(t){return e.changeValue(["description"],t.target.value)}})),this.props.disabled?null:l.default.createElement(r.Col,{span:3,className:"col-item col-item-setting"},l.default.createElement("span",{className:"adv-set",onClick:function(){return e.showAdv([],e.props.schema)}},l.default.createElement(r.Tooltip,{placement:"top",title:(0,f.default)("adv_setting")},l.default.createElement(r.Icon,{type:"setting"}))),"object"!==s.type||this.props.disabled?null:l.default.createElement("span",{onClick:function(){return e.addChildField("properties")}},l.default.createElement(r.Tooltip,{placement:"top",title:(0,f.default)("add_child_node")},l.default.createElement(r.Icon,{type:"plus",className:"plus"}))))),this.state.show&&l.default.createElement(i.default,{data:this.props.schema,disabled:this.props.disabled,showEdit:this.showEdit,showAdv:this.showAdv}))))}}]),t}();b.childContextTypes={getOpenValue:u.default.func,changeCustomValue:u.default.func,Model:u.default.object,disabled:u.default.bool},b.propTypes={disabled:u.default.bool,data:u.default.string,onChange:u.default.func,Model:u.default.object},t.default=(0,o.connect)(function(e){return{schema:e.schema.data,open:e.schema.open}})(b)},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),r=a(1),o=m(r),i=a(5);a(22);var u=m(a(2)),c=a(4),s=m(a(3)),d=a(0),f=m(a(6));m(a(0));function m(e){return e&&e.__esModule?e:{default:e}}function p(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function h(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}i.Form.Item;var g=i.Select.Option,v=(i.Input.TextArea,i.Input.Group,function(e,t,a,n){var l=arguments.length>4&&void 0!==arguments[4]&&arguments[4];switch(t.type){case"array":return o.default.createElement(b,{disabled:l,prefix:e,data:t,showEdit:a,showAdv:n});case"object":var r=[].concat(e,"properties");return o.default.createElement(x,{disabled:l,prefix:r,data:t,showEdit:a,showAdv:n});default:return null}}),b=function(e){function t(e,a){p(this,t);var n=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.handleChangeType=function(e){var t=n.getPrefix(),a=[].concat(t,"type");n.Model.changeTypeAction({key:a,value:e})},n.handleChangeDesc=function(e){var t=n.getPrefix(),a=[].concat(t,"description"),l=e.target.value;n.Model.changeValueAction({key:a,value:l})},n.handleAddChildField=function(){var e=n.getPrefix(),t=[].concat(e,"properties");n.Model.addChildFieldAction({key:t}),n.Model.setOpenValueAction({key:t,value:!0})},n.handleClickIcon=function(){var e=n.getPrefix(),t=[].concat(e,"properties");n.Model.setOpenValueAction({key:t})},n.handleShowEdit=function(e,t){var a=n.getPrefix();n.props.showEdit(a,e,n.props.data.items[e],t)},n.handleShowAdv=function(){n.props.showAdv(n.getPrefix(),n.props.data.items)},n._tagPaddingLeftStyle={},n.Model=a.Model.schema,n}return y(t,r.PureComponent),l(t,[{key:"componentWillMount",value:function(){var e=this.props.prefix.filter(function(e){return"properties"!=e}).length;this.__tagPaddingLeftStyle={paddingLeft:20*(e+1)+"px"}}},{key:"getPrefix",value:function(){return[].concat(this.props.prefix,"items")}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.prefix,l=t.showEdit,r=t.showAdv,c=t.disabled,s=a.items,m=[].concat(n,"items"),p=[].concat(m,"properties").join(d.JSONPATH_JOIN_CHAR),h=this.context.getOpenValue([p]);return!u.default.isUndefined(a.items)&&o.default.createElement("div",{className:"array-type"},o.default.createElement(i.Row,{className:"array-item-type",type:"flex",justify:"space-around",align:"middle"},o.default.createElement(i.Col,{span:12,className:"col-item name-item col-item-name",style:this.__tagPaddingLeftStyle},o.default.createElement(i.Row,{type:"flex",justify:"space-around",align:"middle"},o.default.createElement(i.Col,{span:2,className:"down-style-col"},"object"===s.type?o.default.createElement("span",{className:"down-style",onClick:this.handleClickIcon},h?o.default.createElement(i.Icon,{className:"icon-object",type:"caret-down"}):o.default.createElement(i.Icon,{className:"icon-object",type:"caret-right"})):null),o.default.createElement(i.Col,{span:22},o.default.createElement(i.Input,{addonAfter:o.default.createElement(i.Checkbox,{disabled:!0}),disabled:!0,value:"Items"})))),o.default.createElement(i.Col,{span:4,className:"col-item col-item-type"},o.default.createElement(i.Select,{disabled:this.props.disabled,name:"itemtype",className:"type-select-style",onChange:this.handleChangeType,value:s.type},d.SCHEMA_TYPE.map(function(e,t){return o.default.createElement(g,{value:e,key:t},e)}))),o.default.createElement(i.Col,{span:5,className:"col-item col-item-desc"},o.default.createElement(i.Input,{disabled:c,addonAfter:this.props.disabled?null:o.default.createElement(i.Icon,{type:"edit",onClick:function(){return e.handleShowEdit("description")}}),placeholder:(0,f.default)("description"),value:s.description,onChange:this.handleChangeDesc})),this.props.disabled?null:o.default.createElement(i.Col,{span:3,className:"col-item col-item-setting"},o.default.createElement("span",{className:"adv-set",onClick:this.handleShowAdv},o.default.createElement(i.Tooltip,{placement:"top",title:(0,f.default)("adv_setting")},o.default.createElement(i.Icon,{type:"setting"}))),"object"===s.type?o.default.createElement("span",{onClick:this.handleAddChildField},o.default.createElement(i.Tooltip,{placement:"top",title:(0,f.default)("add_child_node")},o.default.createElement(i.Icon,{type:"plus",className:"plus"}))):null)),o.default.createElement("div",{className:"option-formStyle"},v(m,s,l,r,c)))}}]),t}();b.contextTypes={getOpenValue:s.default.func,Model:s.default.object};var E=function(e){function t(e,a){p(this,t);var l=h(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return l.handleChangeName=function(e){var t=l.props,a=t.data,r=t.prefix,o=t.name,u=e.target.value;if(a.properties[u]&&"object"===n(a.properties[u]))return i.message.error('The field "'+u+'" already exists.');l.Model.changeNameAction({value:u,prefix:r,name:o})},l.handleChangeDesc=function(e){var t=l.getPrefix(),a=[].concat(t,"description"),n=e.target.value;l.Model.changeValueAction({key:a,value:n})},l.handleChangeType=function(e){var t=l.getPrefix(),a=[].concat(t,"type");l.Model.changeTypeAction({key:a,value:e})},l.handleDeleteItem=function(){var e=l.props,t=e.prefix,a=e.name,n=l.getPrefix();l.Model.deleteItemAction({key:n}),l.Model.enableRequireAction({prefix:t,name:a,required:!1})},l.handleShowEdit=function(e,t){var a=l.props,n=a.data,r=a.name;(0,a.showEdit)(l.getPrefix(),e,n.properties[r][e],t)},l.handleShowAdv=function(){var e=l.props,t=e.data,a=e.name;(0,e.showAdv)(l.getPrefix(),t.properties[a])},l.handleAddField=function(){var e=l.props,t=e.prefix,a=e.name;l.Model.addFieldAction({prefix:t,name:a})},l.handleClickIcon=function(){var e=l.getPrefix(),t=[].concat(e,"properties");l.Model.setOpenValueAction({key:t})},l.handleEnableRequire=function(e){var t=l.props,a=t.prefix,n=t.name,r=e.target.checked;l.Model.enableRequireAction({prefix:a,name:n,required:r})},l._tagPaddingLeftStyle={},l.Model=a.Model.schema,l}return y(t,r.PureComponent),l(t,[{key:"componentWillMount",value:function(){var e=this.props.prefix.filter(function(e){return"properties"!=e}).length;this.__tagPaddingLeftStyle={paddingLeft:20*(e+1)+"px"}}},{key:"getPrefix",value:function(){return[].concat(this.props.prefix,this.props.name)}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.data,l=t.prefix,r=t.showEdit,c=t.showAdv,s=n.properties[a],m=[].concat(l,a),p=l.join(d.JSONPATH_JOIN_CHAR),h=[].concat(m,"properties").join(d.JSONPATH_JOIN_CHAR),y=this.context.getOpenValue([p]),b=this.context.getOpenValue([h]);return y?o.default.createElement("div",null,o.default.createElement(i.Row,{type:"flex",justify:"space-around",align:"middle"},o.default.createElement(i.Col,{span:12,className:"col-item name-item col-item-name",style:this.__tagPaddingLeftStyle},o.default.createElement(i.Row,{type:"flex",justify:"space-around",align:"middle"},o.default.createElement(i.Col,{span:2,className:"down-style-col"},"object"===s.type?o.default.createElement("span",{className:"down-style",onClick:this.handleClickIcon},b?o.default.createElement(i.Icon,{className:"icon-object",type:"caret-down"}):o.default.createElement(i.Icon,{className:"icon-object",type:"caret-right"})):null),o.default.createElement(i.Col,{span:22},o.default.createElement(i.Input,{disabled:this.props.disabled,addonAfter:o.default.createElement(i.Tooltip,{placement:"top",title:(0,f.default)("required")},o.default.createElement(i.Checkbox,{disabled:this.props.disabled,onChange:this.handleEnableRequire,checked:!u.default.isUndefined(n.required)&&-1!=n.required.indexOf(a)})),onChange:this.handleChangeName,value:a})))),o.default.createElement(i.Col,{span:4,className:"col-item col-item-type"},o.default.createElement(i.Select,{disabled:this.props.disabled,className:"type-select-style",onChange:this.handleChangeType,value:s.type},d.SCHEMA_TYPE.map(function(e,t){return o.default.createElement(g,{value:e,key:t},e)}))),o.default.createElement(i.Col,{span:5,className:"col-item col-item-desc"},o.default.createElement(i.Input,{disabled:this.props.disabled,addonAfter:this.props.disabled?null:o.default.createElement(i.Icon,{type:"edit",onClick:function(){return e.handleShowEdit("description")}}),placeholder:(0,f.default)("description"),value:s.description,onChange:this.handleChangeDesc})),this.props.disabled?null:o.default.createElement(i.Col,{span:3,className:"col-item col-item-setting"},o.default.createElement("span",{className:"adv-set",onClick:this.handleShowAdv},o.default.createElement(i.Tooltip,{placement:"top",title:(0,f.default)("adv_setting")},o.default.createElement(i.Icon,{type:"setting"}))),o.default.createElement("span",{className:"delete-item",onClick:this.handleDeleteItem},o.default.createElement(i.Icon,{type:"close",className:"close"})),"object"===s.type?o.default.createElement(_,{prefix:l,name:a}):o.default.createElement("span",{onClick:this.handleAddField},o.default.createElement(i.Tooltip,{placement:"top",title:(0,f.default)("add_sibling_node")},o.default.createElement(i.Icon,{type:"plus",className:"plus"}))))),o.default.createElement("div",{className:"option-formStyle"},v(m,s,r,c,this.props.disabled))):null}}]),t}();E.contextTypes={getOpenValue:s.default.func,Model:s.default.object};var C=function(e){function t(){return p(this,t),h(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return y(t,r.Component),l(t,[{key:"shouldComponentUpdate",value:function(e){return!(u.default.isEqual(e.data,this.props.data)&&u.default.isEqual(e.prefix,this.props.prefix)&&u.default.isEqual(e.open,this.props.open))}},{key:"render",value:function(){var e=this,t=this.props,a=t.data,n=t.prefix,l=t.showEdit,r=t.showAdv;return o.default.createElement("div",{className:"object-style"},Object.keys(a.properties).map(function(t,a){return o.default.createElement(E,{disabled:e.props.disabled,key:a,data:e.props.data,name:t,prefix:n,showEdit:l,showAdv:r})}))}}]),t}(),x=(0,c.connect)(function(e){return{open:e.schema.open}})(C),_=function(e,t){var a=e.prefix,n=e.name,l=(e.add,t.Model.schema),r=o.default.createElement(i.Menu,null,o.default.createElement(i.Menu.Item,null,o.default.createElement("span",{onClick:function(){return l.addFieldAction({prefix:a,name:n})}},(0,f.default)("sibling_node"))),o.default.createElement(i.Menu.Item,null,o.default.createElement("span",{onClick:function(){l.setOpenValueAction({key:[].concat(a,n,"properties"),value:!0}),l.addChildFieldAction({key:[].concat(a,n,"properties")})}},(0,f.default)("child_node"))));return o.default.createElement(i.Dropdown,{overlay:r},o.default.createElement(i.Icon,{type:"plus",className:"plus"}))};_.contextTypes={Model:s.default.object};t.default=function(e){var t=v([],e.data,e.showEdit,e.showAdv,e.disabled);return o.default.createElement("div",{className:"schema-content"},t)}},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n=function(){function e(e,t){for(var a=0;a<t.length;a++){var n=t[a];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}}return function(t,a,n){return a&&e(t.prototype,a),n&&e(t,n),t}}(),l=a(1),r=s(l),o=a(5);a(22);var i=s(a(2)),u=s(a(3)),c=s(a(6));function s(e){return e&&e.__esModule?e:{default:e}}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function f(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var p=o.Input.TextArea,h=o.Select.Option,y=function(e,t,a,n){a[t]=e,n(a)},g=function(e){function t(e,a){d(this,t);var n=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.changeOtherValue=function(e,t,a){a[t]=e,n.context.changeCustomValue(a)},n.changeEnumOtherValue=function(e,t){var a=e.split("\n");0===a.length||1==a.length&&!a[0]?(delete t.enum,n.context.changeCustomValue(t)):(t.enum=a,n.context.changeCustomValue(t))},n.changeEnumDescOtherValue=function(e,t){t.enumDesc=e,n.context.changeCustomValue(t)},n.onChangeCheckBox=function(e,t){n.setState({checked:e}),e||(delete t.enum,n.context.changeCustomValue(t))},n.state={checked:!i.default.isUndefined(e.data.enum)},n.format=a.Model.__jsonSchemaFormat,n}return m(t,l.PureComponent),n(t,[{key:"componentWillReceiveProps",value:function(e){this.props.data.enum!==e.data.enum&&this.setState({checked:!i.default.isUndefined(e.data.enum)})}},{key:"render",value:function(){var e=this,t=this.props.data;return r.default.createElement("div",null,r.default.createElement("div",{className:"default-setting"},(0,c.default)("base_setting")),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},(0,c.default)("default"),"："),r.default.createElement(o.Col,{span:20},r.default.createElement(o.Input,{value:t.default,placeholder:(0,c.default)("default"),onChange:function(a){return e.changeOtherValue(a.target.value,"default",t)}}))),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:12},r.default.createElement(o.Row,{type:"flex",align:"middle"},r.default.createElement(o.Col,{span:8,className:"other-label"},(0,c.default)("minLength"),"："),r.default.createElement(o.Col,{span:16},r.default.createElement(o.InputNumber,{value:t.minLength,placeholder:"min.length",onChange:function(a){return e.changeOtherValue(a,"minLength",t)}})))),r.default.createElement(o.Col,{span:12},r.default.createElement(o.Row,{type:"flex",align:"middle"},r.default.createElement(o.Col,{span:8,className:"other-label"},(0,c.default)("maxLength"),"："),r.default.createElement(o.Col,{span:16},r.default.createElement(o.InputNumber,{value:t.maxLength,placeholder:"max.length",onChange:function(a){return e.changeOtherValue(a,"maxLength",t)}}))))),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},r.default.createElement("span",null,"Pattern ",r.default.createElement(o.Tooltip,{title:(0,c.default)("pattern")},r.default.createElement(o.Icon,{type:"question-circle-o",style:{width:"10px"}})),"  :")),r.default.createElement(o.Col,{span:20},r.default.createElement(o.Input,{value:t.pattern,placeholder:"Pattern",onChange:function(a){return e.changeOtherValue(a.target.value,"pattern",t)}}))),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},r.default.createElement("span",null,(0,c.default)("enum"),r.default.createElement(o.Checkbox,{checked:this.state.checked,onChange:function(a){return e.onChangeCheckBox(a.target.checked,t)}})," ",":")),r.default.createElement(o.Col,{span:20},r.default.createElement(p,{value:t.enum&&t.enum.length&&t.enum.join("\n"),disabled:!this.state.checked,placeholder:(0,c.default)("enum_msg"),autosize:{minRows:2,maxRows:6},onChange:function(a){e.changeEnumOtherValue(a.target.value,t)}}))),this.state.checked&&r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},r.default.createElement("span",null,(0,c.default)("enum_desc"))),r.default.createElement(o.Col,{span:20},r.default.createElement(p,{value:t.enumDesc,disabled:!this.state.checked,placeholder:(0,c.default)("enum_desc_msg"),autosize:{minRows:2,maxRows:6},onChange:function(a){e.changeEnumDescOtherValue(a.target.value,t)}}))),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},r.default.createElement("span",null,"format :")),r.default.createElement(o.Col,{span:20},r.default.createElement(o.Select,{disabled:this.props.disabled,showSearch:!0,style:{width:150},value:t.format,dropdownClassName:"json-schema-react-editor-adv-modal-select",placeholder:"Select a format",optionFilterProp:"children",optionLabelProp:"value",onChange:function(a){return e.changeOtherValue(a,"format",t)},filterOption:function(e,t){return t.props.value.toLowerCase().indexOf(e.toLowerCase())>=0}},this.format.map(function(e){return r.default.createElement(h,{value:e.name,key:e.name},e.name," ",r.default.createElement("span",{className:"format-items-title"},e.title))})))))}}]),t}();g.contextTypes={changeCustomValue:u.default.func,Model:u.default.object};var v=function(e){function t(e){d(this,t);var a=f(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return a.onChangeCheckBox=function(e,t){a.setState({checked:e}),e||(delete t.enum,a.setState({enum:""}),a.context.changeCustomValue(t))},a.changeEnumOtherValue=function(e,t){a.setState({enum:e});var n=e.split("\n");a.state.enum.split("\n").length>n.length&&(t.enum=n.map(function(e){return+e}),a.context.changeCustomValue(t)),(0===n.length||1==n.length&&!n[0])&&(delete t.enum,a.context.changeCustomValue(t))},a.onEnterEnumOtherValue=function(e,t){var n=e.split("\n").map(function(e){return+e});t.enum=n,a.context.changeCustomValue(t)},a.changeEnumDescOtherValue=function(e,t){t.enumDesc=e,a.context.changeCustomValue(t)},a.state={checked:!i.default.isUndefined(e.data.enum),enum:i.default.isUndefined(e.data.enum)?"":e.data.enum.join("\n")},a}return m(t,l.PureComponent),n(t,[{key:"componentWillReceiveProps",value:function(e){var t=i.default.isUndefined(this.props.data.enum)?"":this.props.data.enum.join("\n"),a=i.default.isUndefined(e.data.enum)?"":e.data.enum.join("\n");t!==a&&this.setState({enum:a})}},{key:"render",value:function(){var e=this,t=this.props.data;return r.default.createElement("div",null,r.default.createElement("div",{className:"default-setting"},(0,c.default)("base_setting")),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},(0,c.default)("default"),"："),r.default.createElement(o.Col,{span:20},r.default.createElement(o.Input,{value:t.default,placeholder:(0,c.default)("default"),onChange:function(a){return y(a.target.value,"default",t,e.context.changeCustomValue)}}))),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:12},r.default.createElement(o.Row,{type:"flex",align:"middle"},r.default.createElement(o.Col,{span:13,className:"other-label"},r.default.createElement("span",null,"exclusiveMinimum ",r.default.createElement(o.Tooltip,{title:(0,c.default)("exclusiveMinimum")},r.default.createElement(o.Icon,{type:"question-circle-o",style:{width:"10px"}})),"  :")),r.default.createElement(o.Col,{span:11},r.default.createElement(o.Switch,{checked:t.exclusiveMinimum,placeholder:"exclusiveMinimum",onChange:function(a){return y(a,"exclusiveMinimum",t,e.context.changeCustomValue)}})))),r.default.createElement(o.Col,{span:12},r.default.createElement(o.Row,{type:"flex",align:"middle"},r.default.createElement(o.Col,{span:13,className:"other-label"},r.default.createElement("span",null,"exclusiveMaximum ",r.default.createElement(o.Tooltip,{title:(0,c.default)("exclusiveMaximum")},r.default.createElement(o.Icon,{type:"question-circle-o",style:{width:"10px"}})),"  :")),r.default.createElement(o.Col,{span:11},r.default.createElement(o.Switch,{checked:t.exclusiveMaximum,placeholder:"exclusiveMaximum",onChange:function(a){return y(a,"exclusiveMaximum",t,e.context.changeCustomValue)}}))))),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:12},r.default.createElement(o.Row,{type:"flex",align:"middle"},r.default.createElement(o.Col,{span:8,className:"other-label"},(0,c.default)("minimum"),"："),r.default.createElement(o.Col,{span:16},r.default.createElement(o.InputNumber,{value:t.minimum,placeholder:(0,c.default)("minimum"),onChange:function(a){return y(a,"minimum",t,e.context.changeCustomValue)}})))),r.default.createElement(o.Col,{span:12},r.default.createElement(o.Row,{type:"flex",align:"middle"},r.default.createElement(o.Col,{span:8,className:"other-label"},(0,c.default)("maximum"),"："),r.default.createElement(o.Col,{span:16},r.default.createElement(o.InputNumber,{value:t.maximum,placeholder:(0,c.default)("maximum"),onChange:function(a){return y(a,"maximum",t,e.context.changeCustomValue)}}))))),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},r.default.createElement("span",null,(0,c.default)("enum"),r.default.createElement(o.Checkbox,{checked:this.state.checked,onChange:function(a){return e.onChangeCheckBox(a.target.checked,t)}})," ",":")),r.default.createElement(o.Col,{span:20},r.default.createElement(p,{value:this.state.enum,disabled:!this.state.checked,placeholder:(0,c.default)("enum_msg"),autosize:{minRows:2,maxRows:6},onChange:function(a){e.changeEnumOtherValue(a.target.value,t)},onPressEnter:function(a){return e.onEnterEnumOtherValue(a.target.value,t)}}))),this.state.checked&&r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},r.default.createElement("span",null,(0,c.default)("enum_desc")," ：")),r.default.createElement(o.Col,{span:20},r.default.createElement(p,{value:t.enumDesc,disabled:!this.state.checked,placeholder:(0,c.default)("enum_desc_msg"),autosize:{minRows:2,maxRows:6},onChange:function(a){e.changeEnumDescOtherValue(a.target.value,t)}}))))}}]),t}();v.contextTypes={changeCustomValue:u.default.func};var b=function(e,t){var a=e.data,n=i.default.isUndefined(a.default)?"":a.default?"true":"false";return r.default.createElement("div",null,r.default.createElement("div",{className:"default-setting"},(0,c.default)("base_setting")),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:4,className:"other-label"},(0,c.default)("default"),"："),r.default.createElement(o.Col,{span:20},r.default.createElement(o.Select,{disabled:(void 0).props.disabled,value:n,onChange:function(e){return y("true"===e,"default",a,t.changeCustomValue)},style:{width:200}},r.default.createElement(h,{value:"true"},"true"),r.default.createElement(h,{value:"false"},"false")))))};b.contextTypes={changeCustomValue:u.default.func};var E=function(e,t){var a=e.data;return r.default.createElement("div",null,r.default.createElement("div",{className:"default-setting"},(0,c.default)("base_setting")),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:6,className:"other-label"},r.default.createElement("span",null,"uniqueItems ",r.default.createElement(o.Tooltip,{title:(0,c.default)("unique_items")},r.default.createElement(o.Icon,{type:"question-circle-o",style:{width:"10px"}})),"  :")),r.default.createElement(o.Col,{span:18},r.default.createElement(o.Switch,{checked:a.uniqueItems,placeholder:"uniqueItems",onChange:function(e){return y(e,"uniqueItems",a,t.changeCustomValue)}}))),r.default.createElement(o.Row,{className:"other-row",type:"flex",align:"middle"},r.default.createElement(o.Col,{span:12},r.default.createElement(o.Row,{type:"flex",align:"middle"},r.default.createElement(o.Col,{span:12,className:"other-label"},(0,c.default)("min_items"),"："),r.default.createElement(o.Col,{span:12},r.default.createElement(o.InputNumber,{value:a.minItems,placeholder:"minItems",onChange:function(e){return y(e,"minItems",a,t.changeCustomValue)}})))),r.default.createElement(o.Col,{span:12},r.default.createElement(o.Row,{type:"flex",align:"middle"},r.default.createElement(o.Col,{span:12,className:"other-label"},(0,c.default)("max_items"),"："),r.default.createElement(o.Col,{span:12},r.default.createElement(o.InputNumber,{value:a.maxItems,placeholder:"maxItems",onChange:function(e){return y(e,"maxItems",a,t.changeCustomValue)}}))))))};E.contextTypes={changeCustomValue:u.default.func};var C=function(e,t){var a=e.data,n=function(e){return{string:r.default.createElement(g,{data:e}),number:r.default.createElement(v,{data:e}),boolean:r.default.createElement(b,{data:e}),integer:r.default.createElement(v,{data:e}),array:r.default.createElement(E,{data:e})}[e.type]}(JSON.parse(a));return r.default.createElement("div",null,r.default.createElement("div",null,n),r.default.createElement("div",{className:"default-setting"},(0,c.default)("all_setting")))};C.contextTypes={changeCustomValue:u.default.func},t.default=C},function(e,t,a){var n=a(14);function l(e){return"date"===n.string(e).toLowerCase()?"date-time":null}function r(e){var t=n.string(e).toLowerCase();return"date"===t?"string":"regexp"===t?"string":"function"===t?"string":t}function o(e,t,a){var n,l,r;e=Object.keys(e),a=a||[];for(var o=0,i=(t=Object.keys(t)).length;o<i;o++)n=t[o],r=e.indexOf(n),l=a.indexOf(n),-1===r?-1!==l&&a.splice(l,1):-1===l&&a.push(n);return a}function i(e,t,a){var c,s,d;a&&t?t={items:t}:((t=t||{}).type=r(e),t.items=t.items||{},d=t.items.type||null);for(var f=0,m=e.length;f<m;f++){var p=r(e[f]),h=l(e[f]);if(d&&p!==d){t.items.oneOf=[],s=!0;break}d=p,c=h}if(!s&&d?(t.items.type=d,c&&(t.items.format=c)):s&&"object"!==d&&(t.items={oneOf:[{type:d}],required:t.items.required}),void 0!==t.items.oneOf||"object"===d)for(var y=0,g=e.length;y<g;y++){var v,b=e[y],E=r(b),C=l(b);if("object"===E?(t.items.properties&&(t.items.required=o(t.items.properties,b,t.items.required)),v=u(b,s?{}:t.items.properties,!0)):"array"===E?v=i(b,s?{}:t.items.properties,!0):((v={}).type=E,C&&(v.format=C)),s){var x=n.string(b).toLowerCase(),_={};v.type||"object"!==x||(_.properties=v,_.type="object",v=_),t.items.oneOf.push(v)}else{if("object"!==t.items.type)continue;t.items.properties=v}}return a?t.items:t}function u(e,t,a){for(var n in a&&t?t={properties:t}:((t=t||{}).type=r(e),t.properties=t.properties||{}),e){var o=e[n],c=r(o),s=l(o);if("object"!==(c="undefined"===c?"null":c))if("array"!==c)if(t.properties[n]){var d=t.properties[n],f=Array.isArray(d.type);f&&d.type.indexOf(c)<0&&d.type.push(c),f||d.type===c||(d.type=[d.type,c])}else t.properties[n]={},t.properties[n].type=c,s&&(t.properties[n].format=s);else t.properties[n]=i(o,t.properties[n]);else t.properties[n]=u(o,t.properties[n])}return a?t.properties:t}e.exports=function(e,t){var a,l={$schema:"http://json-schema.org/draft-04/schema#"};return"string"!=typeof e?(t=e,e=void 0):l.title=e,l.type=n.string(t).toLowerCase(),"object"===l.type&&(a=u(t),l.type=a.type,l.properties=a.properties),"array"===l.type&&(a=i(t),l.type=a.type,l.items=a.items,l.title&&(l.items.title=l.title,l.title+=" Set")),l}},function(e,t,a){e.exports=function(){var e,t,a,n=(t=[Object,Function,Array,String,Boolean,Number,Date,RegExp,Error],a=t.length,function(e){for(var n=0;n<a;n++)if(t[n]===e)return!0;return!1}),l=(e={}.toString,function(t){var a=e.call(t).slice(8,-1);if(null==t)return a.toLowerCase();var l=r(t);return l&&!n(l)?l.name:a});function r(e){return null==e?e:e.constructor}function o(e,t){var a=r(t)===String?l:r;return a(e)===t}function i(e,t){return e instanceof t}function u(e,t){if(!o(t,Array))throw"Second argument to .any() should be array";for(var a=0;a<t.length;a++){var n=t[a];if(o(e,n))return!0}return!1}var c=function(e,t){return 1==arguments.length?r(e):o(t,Array)?u(e,t):o(e,t)};return c.instance=i,c.string=l,c.of=r,c.is=o,c.any=u,c.extension=function(e,t){return i(e.prototype,t)},c}()},function(e,t){e.exports=o},function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l=o(a(0)),r=o(a(7));function o(e){return e&&e.__esModule?e:{default:e}}var i=a(2),u=1;t.default={state:{message:null,data:{title:"",type:"object",properties:{},required:[]},open:{properties:!0}},changeEditorSchemaAction:function(e,t){(0,r.default)(t.value),e.data=t.value},changeNameAction:function(e,t,a){var r=t.prefix,o=t.name,i=t.value,u=a.data,c=l.default.getParentKeys(r),s=l.default.getData(u,c),d=[].concat(s.required||[]),f=l.default.getData(u,r),m={},p=f[o],h=[].concat(r,i,"properties").join(l.default.JSONPATH_JOIN_CHAR),y=[].concat(r,o,"properties").join(l.default.JSONPATH_JOIN_CHAR);if(p.properties&&(delete e.open[y],e.open[h]=!0),!f[i]||"object"!==n(f[i])){for(var g in d=d.map(function(e){return e===o?i:e}),c.push("required"),l.default.setData(e.data,c,d),f)g===o?m[i]=f[g]:m[g]=f[g];l.default.setData(e.data,r,m)}},changeValueAction:function(e,t){var a=t.key;t.value?l.default.setData(e.data,a,t.value):l.default.deleteData(e.data,a)},changeTypeAction:function(e,t,a){var n=t.key,r=t.value,o=l.default.getParentKeys(n),i=a.data,u=l.default.getData(i,o);if(u.type!==r){var c=l.default.defaultSchema[r],s=u.description?{description:u.description}:{},d=Object.assign({},c,s),f=[].concat("data",o);l.default.setData(e,f,d)}},enableRequireAction:function(e,t,a){var n=t.prefix,r=l.default.getParentKeys(n),o=a.data,i=l.default.getData(o,r),u=[].concat(i.required||[]),c=u.indexOf(t.name);!t.required&&c>=0?(u.splice(c,1),r.push("required"),0===u.length?l.default.deleteData(e.data,r):l.default.setData(e.data,r,u)):t.required&&-1===c&&(u.push(t.name),r.push("required"),l.default.setData(e.data,r,u))},requireAllAction:function(e,t,a){var n=l.default.cloneObject(t.value);l.default.handleSchemaRequired(n,t.required),e.data=n},deleteItemAction:function(e,t,a){var n=t.key,r=n[n.length-1],o=a.data,i=l.default.getParentKeys(n),u=l.default.getData(o,i),c={};for(var s in u)s!==r&&(c[s]=u[s]);l.default.setData(e.data,i,c)},addFieldAction:function(e,t,a){var n=t.prefix,r=a.data,o=t.name,i=l.default.getData(r,n),c={},s=l.default.getParentKeys(n),d=l.default.getData(r,s),f=[].concat(d.required||[]);if(o){for(var m in i)if(c[m]=i[m],m===o){var p="field_"+u++;c[p]=l.default.defaultSchema.string,f.push(p)}}else{c=Object.assign({},i);var h="field_"+u++;c[h]=l.default.defaultSchema.string,f.push(h)}l.default.setData(e.data,n,c),s.push("required"),l.default.setData(e.data,s,f)},addChildFieldAction:function(e,t,a){var n=t.key,r=a.data,o=l.default.getData(r,n),i={};i=Object.assign({},o);var c="field_"+u++;i[c]=l.default.defaultSchema.string,l.default.setData(e.data,n,i);var s=l.default.getParentKeys(n),d=l.default.getData(r,s),f=[].concat(d.required||[]);f.push(c),s.push("required"),l.default.setData(e.data,s,f)},setOpenValueAction:function(e,t,a){var n=t.key.join(l.default.JSONPATH_JOIN_CHAR),r=void 0;r=i.isUndefined(t.value)?!l.default.getData(a.open,[n]):t.value,l.default.setData(e.open,[n],r)}}},function(e,t){},,,,,function(e,t){}])});